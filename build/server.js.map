{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/client/request.js","webpack:///./src/components/Header/index.js","webpack:///./src/containers/App.js","webpack:///./src/containers/Counter/index.js","webpack:///./src/containers/Home/index.js","webpack:///./src/containers/Login/index.js","webpack:///./src/containers/Logout/index.js","webpack:///./src/containers/NotFound/index.js","webpack:///./src/containers/Profile/index.js","webpack:///./src/routes.js","webpack:///./src/server/index.js","webpack:///./src/server/render.js","webpack:///./src/server/request.js","webpack:///./src/store/action-types.js","webpack:///./src/store/actions/counter.js","webpack:///./src/store/actions/home.js","webpack:///./src/store/actions/session.js","webpack:///./src/store/index.js","webpack:///./src/store/reducers/counter.js","webpack:///./src/store/reducers/home.js","webpack:///./src/store/reducers/index.js","webpack:///./src/store/reducers/session.js","webpack:///external \"axios\"","webpack:///external \"express\"","webpack:///external \"express-http-proxy\"","webpack:///external \"fs\"","webpack:///external \"react\"","webpack:///external \"react-dom/server\"","webpack:///external \"react-redux\"","webpack:///external \"react-router-config\"","webpack:///external \"react-router-dom\"","webpack:///external \"redux\"","webpack:///external \"redux-logger\"","webpack:///external \"redux-thunk\""],"names":["axios","create","baseURL","Header","props","user","username","Component","connect","state","session","App","console","log","marginTop","renderRoutes","route","routes","loadData","store","dispatch","actions","getUser","Counter","number","increment","counter","Home","list","length","getHomeList","map","item","id","name","home","Login","event","preventDefault","login","handleSubmit","setState","target","value","Logout","logout","NotFound","staticContext","notFound","Profile","path","component","exact","key","express","require","fs","app","use","static","proxy","proxyReqPathResolver","req","url","get","res","render","listen","context","getServerStore","matchedRoutes","matchRoutes","promises","forEach","push","Promise","all","then","html","renderToString","statusCode","getState","send","JSON","stringify","data","headers","cookie","INCREMENT","SET_HOME_LIST","SET_SESSION","type","types","request","result","payload","post","createStore","reducers","applyMiddleware","thunk","withExtraArgument","createServerRequest","logger","getClientStore","initState","window","clientRequest","action","combineReducers","success","error"],"mappings":"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","file":"server.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/server/index.js\");\n","import axios from 'axios';\r\n// import {request} from 'https';\r\n// 创建一个axios的实例,配置baseURL的基准路径\r\n// 客户端访问3000\r\nexport default axios.create({\r\n    baseURL: '/'\r\n});\r\n// request.get('/api/users');","import React, {Component,Fragment} from 'react';\r\nimport {Link} from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\n\r\nclass Header extends Component {\r\n    render () {\r\n        return (\r\n            <nav className=\"navbar navbar-inverse navbar-fixed-top\">\r\n                <div className=\"container-fluid\">\r\n                    <div className=\"navbar-header\">\r\n                        <a className=\"navbar-brand\">SSR</a>\r\n                    </div>\r\n                    <div >\r\n                        <ul className=\"nav navbar-nav\">\r\n                            <li><Link to=\"/\">首页</Link></li>\r\n                            \r\n                            {\r\n                                this.props.user ?\r\n                                <Fragment>\r\n                                    <li><Link to=\"/logout\">退出</Link></li>\r\n                                    <li><Link to=\"/profile\">个人中心</Link></li>\r\n                                </Fragment>\r\n                                :\r\n                                <li><Link to=\"/login\">登录</Link></li>\r\n                            }\r\n                        </ul>\r\n                       {\r\n                           this.props.user && (\r\n                            <ul className=\"nav navbar-nav navbar-right\">\r\n                                <li><a>{this.props.user.username}</a></li>\r\n                            </ul>\r\n                           )\r\n                       }\r\n                    </div>\r\n                </div>\r\n            </nav>\r\n        );\r\n    }\r\n}\r\nHeader = connect(\r\n    state=> state.session\r\n)(Header);\r\nexport default Header;","\r\nimport React, {Component,Fragment} from 'react';\r\nimport {renderRoutes,matchRoutes} from 'react-router-config';\r\nimport Header from '../components/Header';\r\nimport actions from '../store/actions/session';\r\nclass App extends Component {\r\n    render() {\r\n        console.log('this.props:',this.props);\r\n        return (\r\n            <Fragment>\r\n                <Header/>\r\n                <div className=\"container\" style={{marginTop: 70}}>\r\n                    {renderRoutes(this.props.route.routes)}\r\n                </div>\r\n            </Fragment>\r\n        );\r\n    }\r\n}\r\nApp.loadData = function (store) {\r\n    return store.dispatch(actions.getUser());\r\n}\r\nexport default App;","import React, {Component} from 'react';\r\nimport {connect} from 'react-redux';\r\nimport actions from '../../store/actions/counter';\r\nclass Counter extends Component {\r\n    render(){\r\n        return (\r\n            <div>\r\n                <p>{this.props.number}</p>\r\n                <button onClick={()=>{\r\n                    // this.setState({\r\n                    //     number: this.state.number + 1\r\n                    // });\r\n                    this.props.increment();\r\n                }}>+</button>\r\n            </div>\r\n        );\r\n    }\r\n}\r\nCounter = connect(\r\n    state => state.counter,\r\n    actions\r\n)(Counter);\r\nexport default Counter;","import React,{Component} from 'react';\r\nimport {connect} from 'react-redux';\r\nimport actions from '../../store/actions/home';\r\nclass Home extends Component{\r\n    componentWillMount(){\r\n        if(this.props.list.length == 0){\r\n            this.props.getHomeList();\r\n        }\r\n    }\r\n    render(){\r\n        return (\r\n            <div className=\"row\">\r\n                <div className=\"col-md-6 col-md-offset-3\">\r\n                    <ul className=\"list-group\">\r\n                        {\r\n                            this.props.list.map(item=>(\r\n                                <li key={item.id} className=\"list-group-item\">{item.name}</li>\r\n                            ))\r\n                        }\r\n                    </ul>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\nHome = connect(\r\n    state=>state.home,\r\n    actions\r\n)(Home);\r\n//此方法是用来异步加载数据的方法。用这个方法可以加载数据并且放到仓库中去\r\nHome.loadData = function(store){\r\n    //dispatch方法的返回值就是派发的action，最终返回的是一个promise\r\n  return store.dispatch(actions.getHomeList());\r\n}\r\nexport default Home;","import React, {Component} from 'react';\r\nimport {connect} from 'react-redux';\r\nimport actions from '../../store/actions/session';\r\nclass Login extends Component {\r\n    constructor(){\r\n        super();\r\n        this.state = {\r\n            username: ''\r\n        };\r\n    }\r\n    handleSubmit = (event) =>{\r\n        event.preventDefault();\r\n        this.props.login({\r\n            username: this.state.username\r\n        });\r\n    }\r\n    render(){\r\n        return (\r\n            <div className=\"row\">\r\n                <div className=\"col-md-6 col-md-offset-3\">\r\n                    <form onSubmit={this.handleSubmit}>\r\n                        <div className=\"form-group\">\r\n                            <label htmlFor=\"username\">用户名</label>\r\n                            <input\r\n                                type=\"text\"\r\n                                value={this.state.username}\r\n                                className=\"form-control\"\r\n                                onChange={event => this.setState({\r\n                                    username: event.target.value\r\n                                })}\r\n                            />\r\n                        </div>\r\n                        <div className=\"form-group\">\r\n                            <input type=\"submit\" className=\"btn btn-primary\"/>\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\nLogin = connect(\r\n    state => state.session,\r\n    actions\r\n)(Login);\r\nexport default Login;","import React, {Component} from 'react';\r\nimport {connect} from 'react-redux';\r\nimport actions from '../../store/actions/session';\r\nclass Logout extends Component {\r\n    render(){\r\n        return (\r\n            <div className=\"row\">\r\n                <div class=\"col-md-6 col-md-offset-3\">\r\n                    <button\r\n                        type=\"submit\"\r\n                        className=\"btn btn-primary\"\r\n                        onClick={this.props.logout}\r\n                    >退出</button>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\nLogout = connect(\r\n    state => state.session,\r\n    actions\r\n)(Logout);\r\nexport default Logout;","import React, {Component} from 'react';\r\nclass NotFound extends Component {\r\n    componentWillMount(){\r\n        if (this.props.staticContext) {\r\n            this.props.staticContext.notFound =  true;\r\n        }\r\n    }\r\n    render(){\r\n        return (\r\n            <div className=\"row\">\r\n                <div class=\"col-md-6 col-md-offset-3\">\r\n                   你的页面飞了\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\nexport default NotFound;","import React, {Component} from 'react';\r\nimport {connect} from 'react-redux';\r\nimport {Redirect} from 'react-router-dom';\r\nclass Profile extends Component {\r\n    render(){\r\n        return (\r\n            this.props.user ?\r\n            <div className=\"row\">\r\n                <div class=\"col-md-6 col-md-offset-3\">\r\n                   个人中心\r\n                </div>\r\n            </div>\r\n            :\r\n            <Redirect to=\"/login\"/>\r\n        );\r\n    }\r\n}\r\nProfile = connect(\r\n    state=>state.session\r\n)(Profile);\r\nexport default Profile;","import React, {Component,Fragment} from 'react';\r\nimport {Route} from 'react-router-dom';\r\nimport Home from './containers/Home';\r\nimport App from './containers/App';\r\nimport Counter from './containers/Counter';\r\nimport Login from './containers/Login';\r\nimport Logout from './containers/Logout';\r\nimport Profile from './containers/Profile';\r\nimport NotFound from './containers/NotFound';\r\n// export default (\r\n//     <Fragment>\r\n//         <Route path=\"/\" exact component={Home}/>\r\n//         <Route path=\"/counter\" component={Counter}/>\r\n//     </Fragment>\r\n// );\r\n/*\r\nexport default [\r\n    {\r\n        path: '/',\r\n        component: Home,\r\n        exact: true,\r\n        key: '/',\r\n        loadData:Home.loadData //加载数据， 如果此配置项有了这个属性，那么意味着需要加载异步数据\r\n    },\r\n    {\r\n        path: '/counter',\r\n        component: Counter,\r\n        key: '/counter'\r\n    }\r\n];\r\n*/\r\n// 要渲染多级路由，原来的方式不行了，\r\nexport default [\r\n    {\r\n        path: '/',\r\n        component: App,\r\n        loadData:App.loadData,\r\n        // 子路由\r\n        routes: [\r\n            {\r\n                path: '/',\r\n                component: Home,\r\n                exact: true,\r\n                key: '/',\r\n                loadData:Home.loadData //加载数据， 如果此配置项有了这个属性，那么意味着需要加载异步数据\r\n            },\r\n            {\r\n                path: '/counter',\r\n                component: Counter,\r\n                key: '/counter'\r\n            },\r\n            {\r\n                path: '/login',\r\n                component: Login,\r\n                key: '/login'\r\n            },\r\n            {\r\n                path: '/logout',\r\n                component: Logout,\r\n                key: '/logout'\r\n            },\r\n            {\r\n                path: '/profile',\r\n                component: Profile,\r\n                key: '/profile'\r\n            },\r\n            {\r\n                component: NotFound,\r\n                key: '/notfound'\r\n            }\r\n        ]\r\n    }\r\n];","\r\nimport render from './render';\r\nlet express = require('express');\r\nimport proxy from 'express-http-proxy';\r\nlet fs = require('fs');\r\nlet app = express();\r\n// 把public当做静态文件的根目录\r\napp.use(express.static('public'));\r\n// 如果说访问的路径是以/api开头的，会交给代理服务器处理\r\n// /api/users =>HTTP:127.0.0.1:4000/users\r\napp.use('/api',proxy('http://127.0.0.1:4000',{\r\n    proxyReqPathResolver(req){\r\n        return `/api${req.url}`;\r\n    }\r\n}));\r\napp.get('*', function(req,res){\r\n    render(req,res);\r\n});\r\napp.listen(3000, function(){\r\n    console.log('server started at port 3000');\r\n});","import React from 'react';\r\nimport {StaticRouter,matchPath,Route} from 'react-router-dom';\r\nimport {renderRoutes,matchRoutes} from 'react-router-config';\r\nimport {renderToString} from 'react-dom/server';\r\nimport routes from '../routes';\r\nimport {Provider} from 'react-redux';\r\nimport {getServerStore} from '../store';\r\nexport default function (req, res) {\r\n    let context = {name: 'zfpx'};\r\n    let store = getServerStore(req);\r\n    // 获取要渲染的组件,matchPath是路由提供的工具方法，可以用来判断路径和路由对象是否匹配\r\n    // 正则 /api/:id/\r\n    // console.log('routes:',routes);\r\n    // 这个方法可以处理嵌套路由，\r\n    let matchedRoutes = matchRoutes(routes,req.path);\r\n    console.log('matchedRoutes:',matchedRoutes);\r\n    let promises = [];\r\n    matchedRoutes.forEach(item => {\r\n        if (item.route.loadData) {\r\n            promises.push(item.route.loadData(store));\r\n        }\r\n    });\r\n\r\n    Promise.all(promises).then(function(){\r\n        // 创建仓库的时候，仓库里的数据已经有默认值\r\n        // console.log('store.getState():',store.getState());\r\n        let html = renderToString(\r\n            <Provider store={store}>\r\n                <StaticRouter context={{context}} location={req.path}>\r\n                    {renderRoutes(routes)} \r\n                </StaticRouter>\r\n            </Provider>\r\n        );\r\n        if (context.notFound) {\r\n            res.statusCode = 404;\r\n        }\r\n        console.log('store:',store.getState());\r\n        res.send(`\r\n            <html>\r\n                <head>\r\n                    <title>珠峰ssr</title>\r\n                    <link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/css/bootstrap.min.css\"  >\r\n                </head>\r\n                <body>\r\n                    <div id=\"root\">${html}</div>\r\n                    <script>\r\n                        window.context = {\r\n                            state:${JSON.stringify(store.getState())}\r\n                        }\r\n                    </script>\r\n                    <script src=\"/client.js\"></script>\r\n                </body>\r\n            </html>\r\n        `);\r\n    },(data)=>{\r\n        console.log('reject',data);\r\n    });\r\n\r\n}","import axios from 'axios';\r\n// import {request} from 'https';\r\n// 创建一个axios的实例,配置baseURL的基准路径\r\n// 服务器访问4000\r\nexport default (req)=>axios.create({\r\n    baseURL:'http://localhost:4000',\r\n    headers:{\r\n        cookie:req.get('cookie')||''\r\n    }\r\n});\r\n// request.get('/api/users');","export const INCREMENT = 'INCREMENT';\r\nexport const SET_HOME_LIST = 'SET_HOME_LIST';\r\n// 设置会话信息\r\nexport const SET_SESSION = 'SET_SESSION';","import * as types from '../action-types';\r\nexport default {\r\n    increment(){\r\n        return {\r\n            type: types.INCREMENT\r\n        }\r\n    }\r\n}","import * as types from '../action-types';\r\nimport axios from 'axios';\r\nexport default {\r\n    getHomeList(){\r\n        // 调接口\r\n        // 返回一个函数，store.dispatch(action);\r\n        // redux-thunk中间件\r\n        return function(dispatch,getState, request){\r\n            // 如果是服务端读数据，则直接访问API服务器，4000\r\n            // 如果是客户端，则要访问3000的node服务器，让node服务器帮我们访问4000服务器\r\n            return request.get('/api/users').then(function(result){\r\n                let list = result.data;\r\n                // console.log('list:', list);\r\n                dispatch({\r\n                    type:types.SET_HOME_LIST,\r\n                    payload:list\r\n                });\r\n            });\r\n        }\r\n    }\r\n}","import * as types from '../action-types';\r\nimport axios from 'axios';\r\nexport default {\r\n    login(user){\r\n        return function(dispatch,getState, request){\r\n            return request.post('/api/login',user).then(function(result){\r\n                console.log(result);\r\n                let data = result.data;\r\n                dispatch({\r\n                    type:types.SET_SESSION,\r\n                    payload:data.data\r\n                });\r\n            });\r\n        }\r\n    },\r\n    logout(){\r\n        return function(dispatch,getState, request){\r\n            return request.get('/api/logout').then(function(result){\r\n                console.log(result);\r\n                let data = result.data;\r\n                dispatch({\r\n                    type:types.SET_SESSION,\r\n                    payload:data.data\r\n                });\r\n            });\r\n        }\r\n    },\r\n    getUser(){\r\n        return function(dispatch,getState, request){\r\n            return request.get('/api/user').then(function(result){\r\n                console.log(result);\r\n                let data = result.data;\r\n                dispatch({\r\n                    type:types.SET_SESSION,\r\n                    payload:data.data\r\n                });\r\n            });\r\n        }\r\n    }\r\n}","import {createStore, applyMiddleware} from 'redux';\r\nimport thunk from 'redux-thunk';\r\nimport logger from 'redux-logger';\r\nimport createServerRequest from '../server/request';\r\nimport clientRequest from '../client/request';\r\nimport reducers from './reducers';\r\n\r\nexport function getServerStore(req){\r\n    return createStore(reducers,applyMiddleware(thunk.withExtraArgument(createServerRequest(req)),logger));\r\n}\r\n\r\nexport function getClientStore(){\r\n    let initState = window.context.state;\r\n    return createStore(reducers, initState, applyMiddleware(thunk.withExtraArgument(clientRequest),logger));\r\n}","import * as types from '../action-types';\r\n\r\nlet initState = {\r\n    number: 0\r\n};\r\nexport default function (state = initState,action) {\r\n    switch(action.type){\r\n        case types.INCREMENT:\r\n            return {\r\n                number: state.number + 1\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}","import * as types from '../action-types';\r\nlet initState = {list:[]};\r\nexport default function(state=initState,action){\r\n   switch(action.type){\r\n       case types.SET_HOME_LIST:\r\n         return {list:action.payload};\r\n       default:\r\n         return state;\r\n   }\r\n}","import {combineReducers} from 'redux';\r\nimport counter from './counter';\r\nimport home from './home';\r\nimport session from './session';\r\nlet reducers = combineReducers({\r\n    counter,\r\n    home,\r\n    session\r\n});\r\nexport default reducers;","import * as types from '../action-types';\r\nlet initState = {\r\n    user: null,\r\n    success: null,\r\n    error: null\r\n};\r\nexport default function(state=initState,action){\r\n    switch(action.type){\r\n        case types.SET_SESSION:\r\n            return action.payload;\r\n        default:\r\n            return state;\r\n    }\r\n}","module.exports = require(\"axios\");","module.exports = require(\"express\");","module.exports = require(\"express-http-proxy\");","module.exports = require(\"fs\");","module.exports = require(\"react\");","module.exports = require(\"react-dom/server\");","module.exports = require(\"react-redux\");","module.exports = require(\"react-router-config\");","module.exports = require(\"react-router-dom\");","module.exports = require(\"redux\");","module.exports = require(\"redux-logger\");","module.exports = require(\"redux-thunk\");"],"sourceRoot":""}